<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="http://pslmodels.org/imgs/PolicySimLibrary-1000px.png"/><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Demo Day: Stitching together Apps on Compute Studio | PSL blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Demo Day: Stitching together Apps on Compute Studio" />
<meta name="author" content="Hank Doupe" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Creating an app with the Compute Studio API" />
<meta property="og:description" content="Creating an app with the Compute Studio API" />
<link rel="canonical" href="https://blog.pslmodels.org/demo-day-9-cs-api-stitch" />
<meta property="og:url" content="https://blog.pslmodels.org/demo-day-9-cs-api-stitch" />
<meta property="og:site_name" content="PSL blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-08T00:00:00-06:00" />
<script type="application/ld+json">
{"url":"https://blog.pslmodels.org/demo-day-9-cs-api-stitch","@type":"BlogPosting","headline":"Demo Day: Stitching together Apps on Compute Studio","dateModified":"2021-03-08T00:00:00-06:00","datePublished":"2021-03-08T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.pslmodels.org/demo-day-9-cs-api-stitch"},"author":{"@type":"Person","name":"Hank Doupe"},"description":"Creating an app with the Compute Studio API","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.pslmodels.org/feed.xml" title="PSL blog" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">PSL blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Demo Day: Stitching together Apps on Compute Studio</h1><p class="page-description">Creating an app with the Compute Studio API</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-03-08T00:00:00-06:00" itemprop="datePublished">
        Mar 8, 2021
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Hank Doupe</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#demo-days">demo-days</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#PSL">PSL</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
</ul>
<center>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/5I59dyB_2ws" frameborder="0" allowfullscreen=""></iframe>
</center>

<hr>

<p>In Demo Day 8, I talked about connecting multiple apps on <a href="https://compute.studio">Compute Studio</a> with <a href="https://stitch.hankdoupe.com">PSL Stitch</a>. The source code for PSL stitch can be found in this <a href="https://github.com/hdoupe/psl-stitch">repository</a>.</p>

<p>Stitch is composed of three components:</p>

<ul>
  <li>A <a href="https://github.com/hdoupe/psl-stitch/tree/main/psl_stitch">python package</a> that can be run like a normal Python package.</li>
  <li>A <a href="https://github.com/hdoupe/psl-stitch/tree/main/api">RESTful API</a> built with <a href="https://fastapi.tiangolo.com">FastAPI</a> that is called remotely to create simulations on Compute Studio.</li>
  <li>A <a href="https://github.com/hdoupe/psl-stitch/tree/main/psl-stitch-app">GUI</a> built with <a href="https://reactjs.org/">ReactJS</a> that makes calls to the REST API to create and monitor simulations.</li>
</ul>

<p>One of the cool things about this app is that it uses <a href="https://paramtools.dev">ParamTools</a> to read the JSON files under the hood. This means that it can read links to data in other Compute Studio runs, files on GitHub, or just plain JSON. Here are some example parameters:</p>

<ul>
  <li>policy parameters: <code class="language-plaintext highlighter-rouge">cs://PSLmodels:Tax-Brain@49779/inputs/adjustment/policy</code>
</li>
  <li>tax-cruncher parameters: <code class="language-plaintext highlighter-rouge">{"sage": [{"value": 25}]}</code>
</li>
  <li>business tax parameters: <code class="language-plaintext highlighter-rouge">{"CIT_rate": [{"value": 0.25, "year": 2021}]}</code>
</li>
</ul>

<p>After clicking run, three simulations will be created on Compute Studio and the app will update as soon as the simulations have finished:</p>

<p><img src="https://user-images.githubusercontent.com/9206065/112211937-ca75db00-8bf2-11eb-856f-41c46e7e8ec5.png" alt="Getting started"></p>

<p><img src="https://user-images.githubusercontent.com/9206065/112211931-c9dd4480-8bf2-11eb-83d8-678fd6d80dd9.png" alt="CS Simulations"></p>

<p>Once they are done, the simulations are best viewed and interacted with on Compute Studio, but you can still inspect the JSON response from the Compute Studio API:</p>

<p><img src="https://user-images.githubusercontent.com/9206065/112211930-c944ae00-8bf2-11eb-87dc-949ff3007229.png" alt="Simulation Complete"></p>

<p>I created this app to show that it’s possible to build apps on top of the Compute Studio API. I think PSL Stitch is a neat example of how to do this, but I am even more excited to see what others build next.</p>

<p>Also, this is an open source project and has lots of room for improvement. If you are interested in learning web technologies related to REST APIs and frontend development with JavaScript, then this project could be a good place to start!</p>

<p>Resources:</p>

<ul>
  <li><a href="https://stitch.hankdoupe.com">PSL Stitch</a></li>
  <li><a href="https://github.com/hdoupe/psl-stitch">Source code</a></li>
  <li><a href="https://docs.compute.studio/api/guide.html">Compute Studio API Docs</a></li>
</ul>

  </div><a class="u-url" href="/demo-day-9-cs-api-stitch" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
      <!-- Begin Mailchimp Signup Form -->
      <link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
      <style type="text/css">
        #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
        /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
           We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
      </style>
      <div id="mc_embed_signup">
      <form action="https://policysimulationlibrary.us19.list-manage.com/subscribe/post?u=a5800eed8cadff70bf999bc29&amp;id=8437c6ae2f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
          <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a5800eed8cadff70bf999bc29_8437c6ae2f" tabindex="-1" value=""></div>
          <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
          </div>
      </form>
      </div>

      <!--End mc_embed_signup-->
      </div>
      <div class="footer-col">
        <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/pslmodels" target="_blank" title="pslmodels"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/pslmodels" target="_blank" title="pslmodels"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>
      </div>
    </div>

  </div>

</footer></body>

</html>

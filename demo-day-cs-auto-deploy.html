<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="http://pslmodels.org/imgs/PolicySimLibrary-1000px.png"/><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Demo Day: Deploying apps on Compute Studio | PSL blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Demo Day: Deploying apps on Compute Studio" />
<meta name="author" content="Hank Doupe" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to deploy apps on Compute Studio using the new automated deployments feature." />
<meta property="og:description" content="How to deploy apps on Compute Studio using the new automated deployments feature." />
<link rel="canonical" href="https://blog.pslmodels.org/demo-day-cs-auto-deploy" />
<meta property="og:url" content="https://blog.pslmodels.org/demo-day-cs-auto-deploy" />
<meta property="og:site_name" content="PSL blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-20T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://blog.pslmodels.org/demo-day-cs-auto-deploy","@type":"BlogPosting","headline":"Demo Day: Deploying apps on Compute Studio","dateModified":"2021-09-20T00:00:00-05:00","datePublished":"2021-09-20T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.pslmodels.org/demo-day-cs-auto-deploy"},"author":{"@type":"Person","name":"Hank Doupe"},"description":"How to deploy apps on Compute Studio using the new automated deployments feature.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.pslmodels.org/feed.xml" title="PSL blog" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">PSL blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Demo Day: Deploying apps on Compute Studio</h1><p class="page-description">How to deploy apps on Compute Studio using the new automated deployments feature.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-09-20T00:00:00-05:00" itemprop="datePublished">
        Sep 20, 2021
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Hank Doupe</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#demo-days">demo-days</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#policy-simulation-library">policy-simulation-library</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#compute-studio">compute-studio</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <hr />

<center>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/P1mzhZkwRt0" frameborder="0" allowfullscreen=""></iframe>
</center>

<hr />

<p>Compute Studio (C/S) is a platform for publishing and sharing computational models and data visualizations. In this demo day, I show how to publish your own project on C/S using the new automated deployments feature. You can find an in depth guide to publishing on C/S
in the <a href="https://docs.compute.studio/publish/guide.html">developer docs</a>.</p>

<p>C/S supports two types of projects: models and data visualizations. Models are fed some inputs and return a result. Data visualizations are web servers  backed by popular open-source libraries like Bokeh, Dash, or Streamlit. Models are good for long-running processes and producing archivable results that can be shared and returned to easily. Data visualizations are good for highly interactive and custom user experiences.</p>

<p>Now that you’ve checked out the <a href="https://docs.compute.studio/publish/guide.html">developer docs</a> and set up your model or data-viz, you can head over to the C/S publishing page <a href="https://compute.studio/new/">https://compute.studio/new/</a> to publish your project. Note that this page is still very much under construction and may look different in a few weeks.</p>

<p><img src="../images/cs-auto-deploy/publish_page.png" alt="Publish page" /></p>

<p>Next, you will be sent to the second stage in the publish flow where you will provide more details on how to connect your project on C/S:</p>

<p><img src="../images/cs-auto-deploy/connect_project_page.png" alt="Connect Project page" /></p>

<p>Clicking “Connect App” will take you to the project home page:</p>

<p><img src="../images/cs-auto-deploy/project_home_page.png" alt="Project home page" /></p>

<p>Go to the “Settings” button in the top-right corner and this will take you to the project dashboard where you can modify everything from the social preview of your project to the amount of compute resources it needs:</p>

<p><img src="../images/cs-auto-deploy/project_dashboard.png" alt="Project dashboard" /></p>

<p>The “Builds” link in the sidebar will take you to the builds dashboard where you can create your first build:</p>

<p><img src="../images/cs-auto-deploy/build_history_dashboard.png" alt="Build history dashboard" /></p>

<p>It’s time to create the first build. You can do so by clicking “New Build”. This will take you to the build status page. While the build is being scheduled, the page will look like this:</p>

<p><img src="../images/cs-auto-deploy/build_scheduled_page.png" alt="Build scheduled page" /></p>

<p>You can click the “Build History” link and it will show that the build has been started:</p>

<p><img src="../images/cs-auto-deploy/build_history_dashboard_progress.png" alt="Build history dashboard" /></p>

<p>The build status page should be updated at this point and will look something like this:</p>

<p><img src="../images/cs-auto-deploy/build_status_page_progress.png" alt="Build status page" /></p>

<p>C/S automated deployments are built on top of <a href="https://github.com/features/actions">Github Actions</a>. Unfortunately, the logs in Github Actions are not available through the Github API until after the workflow is completely finished. The build status dashboard will update as the build progresses and once it’s done, you will have full access to the logs from the build. These will contain outputs from installing your project and the outputs from your project’s tests.</p>

<p>In this case, the build failed. We can inspect the logs to see that an import error caused the failure:</p>

<p><img src="../images/cs-auto-deploy/build_status_failed.png" alt="Build failed status page" /></p>

<p><img src="../images/cs-auto-deploy/build_status_failed_logs.png" alt="Build failed status page with logs" /></p>

<p>I pushed an update to my fork of Tax-Cruncher on Github and restarted the build by clicking “Failure. Start new Build”. The next build succeeded and we can click “Release” to publish the project:</p>

<p><img src="../images/cs-auto-deploy/build_status_page_success.png" alt="Build status page success" /></p>

<p>The builds dashboard now shows the two builds:</p>

<p><img src="../images/cs-auto-deploy/updated_build_history_page.png" alt="Updated build history page" /></p>

<p>Finally, let’s go run our new model:</p>

<p><img src="../images/cs-auto-deploy/run_project_page_loading.png" alt="Run project page" /></p>

<p>It may take a few seconds for the page to load. This is because the model code and all of its dependencies are being loaded onto the C/S servers for the first time:</p>

<p><img src="../images/cs-auto-deploy/run_project_page_success.png" alt="Run project page with inputs form" /></p>

<p>The steps for publishing a data visualization are very similar. The main idea is that you tell C/S what Python file your app lives in and C/S will know how to run it given your data visualization technology choice.</p>

  </div><a class="u-url" href="/demo-day-cs-auto-deploy" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
      <!-- Begin Mailchimp Signup Form -->
      <link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
      <style type="text/css">
        #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
        /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
           We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
      </style>
      <div id="mc_embed_signup">
      <form action="https://policysimulationlibrary.us19.list-manage.com/subscribe/post?u=a5800eed8cadff70bf999bc29&amp;id=8437c6ae2f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
          <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a5800eed8cadff70bf999bc29_8437c6ae2f" tabindex="-1" value=""></div>
          <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
          </div>
      </form>
      </div>

      <!--End mc_embed_signup-->
      </div>
      <div class="footer-col">
        <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/pslmodels" target="_blank" title="pslmodels"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/pslmodels" target="_blank" title="pslmodels"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>
      </div>
    </div>

  </div>

</footer></body>

</html>
